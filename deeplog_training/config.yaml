# DeepLog í•™ìŠµ ì„¤ì • íŒŒì¼
# Tesla V100-DGXS-32GB x 4 í™˜ê²½ì— ìµœì í™”

# ëª¨ë¸ ì„¤ì •
model:
  vocab_size: 10000          # ì–´íœ˜ í¬ê¸° (Event ID + Special Tokens)
  embedding_dim: 128         # ì„ë² ë”© ì°¨ì›
  hidden_size: 256           # LSTM ì€ë‹‰ì¸µ í¬ê¸°
  num_layers: 2              # LSTM ë ˆì´ì–´ ìˆ˜
  dropout: 0.2               # ë“œë¡­ì•„ì›ƒ í™•ë¥ 

# í•™ìŠµ ì„¤ì •
training:
  batch_size: 256            # ë°°ì¹˜ í¬ê¸° (4 GPU ê¸°ì¤€, GPUë‹¹ 64)
  learning_rate: 0.001       # ì´ˆê¸° í•™ìŠµë¥ 
  weight_decay: 0.0001       # ê°€ì¤‘ì¹˜ ê°ì‡  (L2 ì •ê·œí™”)
  num_epochs: 50             # ì´ ì—í­ ìˆ˜
  max_grad_norm: 1.0         # Gradient Clipping ìµœëŒ€ê°’
  
  # ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •
  scheduler_type: "cosine"   # ìŠ¤ì¼€ì¤„ëŸ¬ íƒ€ì…: cosine, step, reduce_on_plateau
  min_lr: 0.000001           # ìµœì†Œ í•™ìŠµë¥ 
  warmup_steps: 1000         # ì›Œë°ì—… ìŠ¤í… ìˆ˜
  
  # ë¡œê¹… ì„¤ì •
  log_interval: 100          # ë°°ì¹˜ë³„ ë¡œê·¸ ì¶œë ¥ ê°„ê²©
  save_interval: 5000        # ì²´í¬í¬ì¸íŠ¸ ì €ì¥ ê°„ê²© (ìŠ¤í…)
  
  # Early Stopping ì„¤ì • (í™œì„±í™”ë¨)
  early_stopping:
    enabled: true
    patience: 5              # ê°œì„  ì—†ì´ ì§€ì†ë  ìˆ˜ ìˆëŠ” ì—í­ ìˆ˜
    min_delta: 0.0001        # ê°œì„ ìœ¼ë¡œ ê°„ì£¼ë˜ëŠ” ìµœì†Œ ë³€í™”ëŸ‰

  # GPU ì„¤ì •
  use_multi_gpu: true        # ë©€í‹° GPU ì‚¬ìš© ì—¬ë¶€
  mixed_precision: true      # Mixed Precision Training (FP16)
  
  # ë°ì´í„° ë¡œë” ì„¤ì •
  num_workers: 4             # ë°ì´í„° ë¡œë”© ì›Œì»¤ ìˆ˜
  prefetch_factor: 2         # í”„ë¦¬í˜ì¹˜ íŒ©í„°

# ë°ì´í„° ì„¤ì •
data:

  # ğŸ”„ Parquet ì‚¬ìš© (10-20ë°° ë¹ ë¥¸ I/O) - JSONì—ì„œ ë³€í™˜ í›„ ê²½ë¡œ ì—…ë°ì´íŠ¸
  preprocessed_dir: "/home/zzangdol/RADAR/preprocessing/silverw/output_parquet"
  # JSON í´ë°± (í•˜ìœ„ í˜¸í™˜ì„±)
  preprocessed_dir_json: "/home/zzangdol/RADAR/preprocessing/output"

  max_seq_length: 512                  # ìµœëŒ€ ì‹œí€€ìŠ¤ ê¸¸ì´
  validation_split: 0.1                # ê²€ì¦ ë°ì´í„° ë¹„ìœ¨ (10%)

  # íŒŒì¼ íŒ¨í„´
  file_pattern: "*.parquet"            # ğŸ”„ Parquet íŒ¨í„´
  file_pattern_json: "preprocessed_logs_*.json"  # JSON í´ë°±

  # Lazy Loading ì„¤ì •
  lazy_loading:
    enabled: true
    buffer_size: 10000       # ë©”ëª¨ë¦¬ì— ìœ ì§€í•  ìƒ˜í”Œ ìˆ˜
    shuffle_buffer: true     # ë²„í¼ ë‚´ ì…”í”Œ ì—¬ë¶€

# ì¶œë ¥ ì„¤ì •
output:
  base_dir: "/home/zzangdol/silverw/deeplog"  # ê¸°ë³¸ ì¶œë ¥ ë””ë ‰í† ë¦¬ (ë¡œê·¸, ì´ë ¥ ì €ì¥)
  dir: "/home/zzangdol/silverw/deeplog/output"  # ëª¨ë¸ ì¶œë ¥ ë””ë ‰í† ë¦¬
  checkpoint_dir: "checkpoints"  # ì²´í¬í¬ì¸íŠ¸ ì €ì¥ ë””ë ‰í† ë¦¬ (output/checkpoints)
  log_file: "training.log"   # í•™ìŠµ ë¡œê·¸ íŒŒì¼
  eval_dir: "/home/zzangdol/silverw/deeplog"  # í‰ê°€ ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬

# ëª¨ë‹ˆí„°ë§ ì„¤ì •
monitoring:
  gpu_log_interval: 50       # GPU ìƒíƒœ ë¡œê¹… ê°„ê²© (ë°°ì¹˜)
  use_tensorboard: false     # TensorBoard ì‚¬ìš© ì—¬ë¶€
  tensorboard_dir: "runs"    # TensorBoard ë¡œê·¸ ë””ë ‰í† ë¦¬
