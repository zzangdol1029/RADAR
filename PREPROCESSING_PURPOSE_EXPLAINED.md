# ì „ì²˜ë¦¬ì˜ ì‹¤ì œ ëª©ì ê³¼ ê³¼ì • ì„¤ëª…

## ğŸ“‹ ì§ˆë¬¸: ì „ì²˜ë¦¬ëŠ” ê²¹ì¹˜ëŠ” ë‚´ìš©ì„ ì œê±°í•˜ëŠ” ê±´ê°€ìš”?

**ë‹µë³€: ì•„ë‹™ë‹ˆë‹¤!** ì „ì²˜ë¦¬ëŠ” ë‹¨ìˆœíˆ ì¤‘ë³µ ì œê±°ê°€ ì•„ë‹ˆë¼, **ë¡œê·¸ë¥¼ ëª¨ë¸ì´ í•™ìŠµí•  ìˆ˜ ìˆëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜**í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

---

## ğŸ¯ ì „ì²˜ë¦¬ì˜ ì‹¤ì œ ëª©ì 

### 1. ëª¨ë¸ ì…ë ¥ í˜•ì‹ìœ¼ë¡œ ë³€í™˜

**ì›ë³¸ ë¡œê·¸ (í…ìŠ¤íŠ¸):**
```
2025-08-13 17:24:09.631 INFO 4129012 --- [or-http-epoll-2] k.r.b.g.f.CustomLoggingFilter : {"client_ip":"116.125.84.76","trace_id":"abc123","method":"GET","url":"/research/api/data","status":200}
2025-08-13 17:24:10.123 INFO 4129012 --- [or-http-epoll-2] k.r.b.g.f.CustomLoggingFilter : {"client_ip":"192.168.1.100","trace_id":"def456","method":"POST","url":"/research/api/update","status":200}
2025-08-13 17:24:11.456 ERROR 4129012 --- [or-http-epoll-2] k.r.b.g.f.CustomLoggingFilter : {"client_ip":"116.125.84.76","trace_id":"abc123","method":"GET","url":"/research/api/data","status":500}
```

**ì „ì²˜ë¦¬ í›„ (ëª¨ë¸ ì…ë ¥ í˜•ì‹):**
```json
{
  "token_ids": [101, 1, 2, 3, 4, 102, 0, 0, ...],
  "attention_mask": [1, 1, 1, 1, 1, 1, 0, 0, ...],
  "event_sequence": [1, 2, 3],
  "session_id": "gateway_trace_abc123"
}
```

**ëª©ì :** ëª¨ë¸ì€ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì½ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ìˆ«ì ì‹œí€€ìŠ¤ë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

---

## ğŸ”„ ì „ì²˜ë¦¬ì˜ ì£¼ìš” ê³¼ì •

### 1. í…œí”Œë¦¿ ì¶”ì¶œ (íŒ¨í„´ ì¸ì‹, ì¤‘ë³µ ì œê±° ì•„ë‹˜!)

**ì›ë³¸ ë¡œê·¸ë“¤:**
```
ERROR Connection timeout from 192.168.0.1
ERROR Connection timeout from 192.168.0.2
ERROR Connection timeout from 192.168.0.3
```

**í…œí”Œë¦¿ ì¶”ì¶œ í›„:**
```
Template: "ERROR Connection timeout from <*>"
Event ID: 1
Parameters: ["192.168.0.1"], ["192.168.0.2"], ["192.168.0.3"]
```

**ëª©ì :**
- âœ… **íŒ¨í„´ ì¸ì‹**: ë¹„ìŠ·í•œ ë¡œê·¸ë¥¼ í•˜ë‚˜ì˜ íŒ¨í„´ìœ¼ë¡œ ë¬¶ê¸°
- âœ… **ì¼ë°˜í™”**: êµ¬ì²´ì ì¸ ê°’(IP ì£¼ì†Œ)ì„ ì¶”ìƒí™”
- âŒ **ì¤‘ë³µ ì œê±° ì•„ë‹˜**: ê° ë¡œê·¸ëŠ” ì—¬ì „íˆ ìœ ì§€ë¨ (íŒŒë¼ë¯¸í„°ë¡œ ì €ì¥)

**ì™œ í•„ìš”í•œê°€?**
- ëª¨ë¸ì´ "192.168.0.1ì—ì„œ íƒ€ì„ì•„ì›ƒ"ê³¼ "192.168.0.2ì—ì„œ íƒ€ì„ì•„ì›ƒ"ì„ ê°™ì€ íŒ¨í„´ìœ¼ë¡œ ì¸ì‹í•˜ë„ë¡ í•¨
- ìˆ˜ë°±ë§Œ ê°œì˜ ë¡œê·¸ë¥¼ ìˆ˜ë°± ê°œì˜ íŒ¨í„´ìœ¼ë¡œ ì••ì¶• (í•™ìŠµ ê°€ëŠ¥í•œ í¬ê¸°ë¡œ)

---

### 2. ì„¸ì…˜í™” (ì˜ë¯¸ ìˆëŠ” ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê¸°)

**ì›ë³¸ ë¡œê·¸ë“¤ (ì‹œê°„ìˆœ):**
```
[17:24:09] Gateway: Request received
[17:24:10] Gateway: Calling Research service
[17:24:11] Research: Processing request
[17:24:12] Research: Calling Manager service
[17:24:13] Manager: Processing request
[17:24:14] Manager: Returning response
[17:24:15] Research: Returning response
[17:24:16] Gateway: Returning response
```

**ì„¸ì…˜í™” í›„:**
```json
{
  "session_id": "trace_abc123",
  "trace_id": "abc123",
  "logs": [
    {"event_id": 1, "service": "gateway", "timestamp": "17:24:09"},
    {"event_id": 2, "service": "gateway", "timestamp": "17:24:10"},
    {"event_id": 3, "service": "research", "timestamp": "17:24:11"},
    ...
  ],
  "services": ["gateway", "research", "manager"]
}
```

**ëª©ì :**
- âœ… **ì˜ë¯¸ ìˆëŠ” ê·¸ë£¹í™”**: í•˜ë‚˜ì˜ ìš”ì²­ì— ê´€ë ¨ëœ ë¡œê·¸ë“¤ì„ ë¬¶ê¸°
- âœ… **ì‹œí€€ìŠ¤ ìƒì„±**: ëª¨ë¸ì´ í•™ìŠµí•  ìˆ˜ ìˆëŠ” ìˆœì„œ ìˆëŠ” ë°ì´í„° ìƒì„±
- âŒ **ì¤‘ë³µ ì œê±° ì•„ë‹˜**: ëª¨ë“  ë¡œê·¸ê°€ ì„¸ì…˜ì— í¬í•¨ë¨

**ì™œ í•„ìš”í•œê°€?**
- ëª¨ë¸ì€ ì‹œí€€ìŠ¤(ìˆœì„œ ìˆëŠ” ë°ì´í„°)ë¥¼ í•™ìŠµí•´ì•¼ í•¨
- ê°œë³„ ë¡œê·¸ë³´ë‹¤ëŠ” ë¡œê·¸ ì‹œí€€ìŠ¤ê°€ ì´ìƒ íƒì§€ì— ë” íš¨ê³¼ì 

---

### 3. ì¸ì½”ë”© (ìˆ«ìë¡œ ë³€í™˜)

**ì„¸ì…˜í™”ëœ ë¡œê·¸:**
```json
{
  "logs": [
    {"event_id": 1, "template": "INFO Request received"},
    {"event_id": 2, "template": "INFO Calling service"},
    {"event_id": 3, "template": "ERROR Connection timeout"}
  ]
}
```

**ì¸ì½”ë”© í›„:**
```json
{
  "token_ids": [101, 1, 2, 3, 102],
  "attention_mask": [1, 1, 1, 1, 1],
  "event_sequence": [1, 2, 3]
}
```

**ëª©ì :**
- âœ… **ëª¨ë¸ ì…ë ¥ í˜•ì‹**: ëª¨ë¸ì´ ì´í•´í•  ìˆ˜ ìˆëŠ” ìˆ«ì ì‹œí€€ìŠ¤ë¡œ ë³€í™˜
- âœ… **íŠ¹ìˆ˜ í† í° ì¶”ê°€**: [CLS], [SEP] ë“± BERT ìŠ¤íƒ€ì¼ í† í° ì¶”ê°€
- âŒ **ì¤‘ë³µ ì œê±° ì•„ë‹˜**: ëª¨ë“  ì´ë²¤íŠ¸ê°€ ì‹œí€€ìŠ¤ì— í¬í•¨ë¨

**ì™œ í•„ìš”í•œê°€?**
- ë”¥ëŸ¬ë‹ ëª¨ë¸ì€ ìˆ«ìë§Œ ì…ë ¥ë°›ì„ ìˆ˜ ìˆìŒ
- í…ìŠ¤íŠ¸ë¥¼ ìˆ«ìë¡œ ë§¤í•‘í•´ì•¼ í•™ìŠµ ê°€ëŠ¥

---

## âŒ ì¤‘ë³µ ì œê±°ëŠ” ì–¸ì œ í•˜ë‚˜ìš”?

### ì¤‘ë³µ ì œê±°ê°€ í•„ìš”í•œ ê²½ìš°

1. **ë…¸ì´ì¦ˆ ì œê±°** (ì˜ë¯¸ ì—†ëŠ” ë°ì´í„°)
   ```
   âŒ ì œê±°: "Spring Boot ë°°ë„ˆ", "ë¹ˆ ì¤„", "í´ë˜ìŠ¤ ë¡œë”© ë©”ì‹œì§€"
   âœ… ìœ ì§€: ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
   ```

2. **í’ˆì§ˆ ê²€ì¦** (ë¶ˆëŸ‰ ë°ì´í„°)
   ```
   âŒ ì œê±°: ë„ˆë¬´ ì§§ì€ ì„¸ì…˜ (< 5ê°œ ë¡œê·¸)
   âŒ ì œê±°: íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ì—†ëŠ” ë¡œê·¸
   âœ… ìœ ì§€: ì •ìƒì ì¸ ì„¸ì…˜
   ```

3. **í…œí”Œë¦¿ ì¶”ì¶œ** (íŒ¨í„´ ì••ì¶•)
   ```
   âŒ ì œê±°: êµ¬ì²´ì ì¸ ê°’ (IP ì£¼ì†Œ, ì‚¬ìš©ì ID ë“±)
   âœ… ìœ ì§€: íŒ¨í„´ (í…œí”Œë¦¿)ê³¼ íŒŒë¼ë¯¸í„°
   ```

### ì¤‘ë³µ ì œê±°ê°€ ì•„ë‹Œ ê²½ìš°

1. **ê°™ì€ íŒ¨í„´ì˜ ë¡œê·¸ë“¤**
   ```
   âœ… ìœ ì§€: "ERROR Connection timeout from 192.168.0.1"
   âœ… ìœ ì§€: "ERROR Connection timeout from 192.168.0.2"
   â†’ ê°™ì€ í…œí”Œë¦¿ì´ì§€ë§Œ ë‹¤ë¥¸ íŒŒë¼ë¯¸í„°ì´ë¯€ë¡œ ëª¨ë‘ ìœ ì§€
   ```

2. **ê°™ì€ Trace IDì˜ ë¡œê·¸ë“¤**
   ```
   âœ… ìœ ì§€: Trace ID "abc123"ì˜ ëª¨ë“  ë¡œê·¸
   â†’ í•˜ë‚˜ì˜ ìš”ì²­ì´ë¯€ë¡œ ëª¨ë‘ í•„ìš”í•¨
   ```

3. **ë°˜ë³µë˜ëŠ” ì´ë²¤íŠ¸**
   ```
   âœ… ìœ ì§€: [1, 2, 1, 2, 1, 2] ê°™ì€ ë°˜ë³µ íŒ¨í„´
   â†’ íŒ¨í„´ ìì²´ê°€ í•™ìŠµ ëŒ€ìƒì´ë¯€ë¡œ ìœ ì§€
   ```

---

## ğŸ“Š ì „ì²˜ë¦¬ ì „í›„ ë¹„êµ

### ì „ì²˜ë¦¬ ì „
```
ì›ë³¸ ë¡œê·¸ íŒŒì¼: 10GB
- ë¡œê·¸ ë¼ì¸ ìˆ˜: 10,000,000ê°œ
- ê³ ìœ  í…œí”Œë¦¿: ì•Œ ìˆ˜ ì—†ìŒ (í…ìŠ¤íŠ¸ í˜•íƒœ)
- ëª¨ë¸ ì…ë ¥: ë¶ˆê°€ëŠ¥ (í…ìŠ¤íŠ¸)
```

### ì „ì²˜ë¦¬ í›„
```
ì „ì²˜ë¦¬ëœ ë°ì´í„°: 2GB
- ì„¸ì…˜ ìˆ˜: 500,000ê°œ
- ê³ ìœ  í…œí”Œë¦¿: 1,000ê°œ (Event IDë¡œ ë§¤í•‘)
- ëª¨ë¸ ì…ë ¥: ê°€ëŠ¥ (ìˆ«ì ì‹œí€€ìŠ¤)
```

**ë³€í™”:**
- âœ… **ì••ì¶•**: 10GB â†’ 2GB (80% ê°ì†Œ)
- âœ… **êµ¬ì¡°í™”**: í…ìŠ¤íŠ¸ â†’ êµ¬ì¡°í™”ëœ JSON
- âœ… **í•™ìŠµ ê°€ëŠ¥**: ëª¨ë¸ì´ ì´í•´í•  ìˆ˜ ìˆëŠ” í˜•ì‹

**ì¤‘ë³µ ì œê±° íš¨ê³¼:**
- í…œí”Œë¦¿ ì¶”ì¶œë¡œ íŒ¨í„´ ì••ì¶• (10,000,000ê°œ â†’ 1,000ê°œ íŒ¨í„´)
- í•˜ì§€ë§Œ ê° ë¡œê·¸ì˜ ì •ë³´ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë³´ì¡´ë¨

---

## ğŸ¯ ì „ì²˜ë¦¬ì˜ í•µì‹¬ ëª©ì  ìš”ì•½

### 1. ë³€í™˜ (Transformation)
- í…ìŠ¤íŠ¸ â†’ ìˆ«ì ì‹œí€€ìŠ¤
- ë¹„êµ¬ì¡°í™” â†’ êµ¬ì¡°í™”
- ê°œë³„ ë¡œê·¸ â†’ ì„¸ì…˜

### 2. ì¼ë°˜í™” (Generalization)
- êµ¬ì²´ì ì¸ ê°’ â†’ ì¶”ìƒí™”ëœ íŒ¨í„´
- IP ì£¼ì†Œ, ì‚¬ìš©ì ID ë“± â†’ `<*>` íŒŒë¼ë¯¸í„°

### 3. êµ¬ì¡°í™” (Structuring)
- ì‹œê°„ìˆœ ë¡œê·¸ â†’ ì˜ë¯¸ ìˆëŠ” ê·¸ë£¹
- ê°œë³„ ì´ë²¤íŠ¸ â†’ ì‹œí€€ìŠ¤

### 4. ìµœì í™” (Optimization)
- ëª¨ë¸ ì…ë ¥ í˜•ì‹ì— ë§ì¶¤
- í•™ìŠµ íš¨ìœ¨ í–¥ìƒ

---

## ğŸ’¡ ì‹¤ì œ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: í…œí”Œë¦¿ ì¶”ì¶œ

**ì›ë³¸ (1000ê°œ ë¡œê·¸):**
```
ERROR Connection timeout from 192.168.0.1
ERROR Connection timeout from 192.168.0.2
ERROR Connection timeout from 192.168.0.3
... (997ê°œ ë”)
```

**ì „ì²˜ë¦¬ í›„:**
```json
{
  "template": "ERROR Connection timeout from <*>",
  "event_id": 1,
  "occurrences": 1000,  // 1000ë²ˆ ë°œìƒ
  "parameters": [
    "192.168.0.1", "192.168.0.2", ..., "192.168.0.1000"
  ]
}
```

**ê²°ê³¼:**
- âœ… íŒ¨í„´ì€ 1ê°œë¡œ ì••ì¶• (í…œí”Œë¦¿)
- âœ… í•˜ì§€ë§Œ 1000ê°œì˜ ì •ë³´ëŠ” ëª¨ë‘ ë³´ì¡´ (íŒŒë¼ë¯¸í„°)
- âœ… ì¤‘ë³µ ì œê±°ê°€ ì•„ë‹ˆë¼ **íŒ¨í„´ ì¸ì‹**

### ì˜ˆì‹œ 2: ì„¸ì…˜í™”

**ì›ë³¸ (8ê°œ ë¡œê·¸):**
```
[09:00:01] Gateway: Request A
[09:00:02] Research: Processing A
[09:00:03] Manager: Processing A
[09:00:04] Gateway: Request B
[09:00:05] Research: Processing B
[09:00:06] Manager: Processing B
[09:00:07] Gateway: Request C
[09:00:08] Research: Processing C
```

**ì „ì²˜ë¦¬ í›„ (3ê°œ ì„¸ì…˜):**
```json
[
  {
    "session_id": "trace_A",
    "logs": [
      {"event_id": 1, "service": "gateway"},
      {"event_id": 2, "service": "research"},
      {"event_id": 3, "service": "manager"}
    ]
  },
  {
    "session_id": "trace_B",
    "logs": [
      {"event_id": 1, "service": "gateway"},
      {"event_id": 2, "service": "research"},
      {"event_id": 3, "service": "manager"}
    ]
  },
  {
    "session_id": "trace_C",
    "logs": [
      {"event_id": 1, "service": "gateway"},
      {"event_id": 2, "service": "research"}
    ]
  }
]
```

**ê²°ê³¼:**
- âœ… 8ê°œ ë¡œê·¸ â†’ 3ê°œ ì„¸ì…˜ (ê·¸ë£¹í™”)
- âœ… ëª¨ë“  ë¡œê·¸ê°€ ì„¸ì…˜ì— í¬í•¨ë¨ (ì¤‘ë³µ ì œê±° ì•„ë‹˜)
- âœ… ì˜ë¯¸ ìˆëŠ” ê·¸ë£¹ìœ¼ë¡œ êµ¬ì¡°í™”

---

## âœ… ê²°ë¡ 

### ì „ì²˜ë¦¬ëŠ” ì¤‘ë³µ ì œê±°ê°€ ì•„ë‹™ë‹ˆë‹¤!

**ì „ì²˜ë¦¬ì˜ ì‹¤ì œ ëª©ì :**
1. âœ… **ë³€í™˜**: í…ìŠ¤íŠ¸ â†’ ëª¨ë¸ ì…ë ¥ í˜•ì‹
2. âœ… **ì¼ë°˜í™”**: êµ¬ì²´ì  ê°’ â†’ ì¶”ìƒí™”ëœ íŒ¨í„´
3. âœ… **êµ¬ì¡°í™”**: ê°œë³„ ë¡œê·¸ â†’ ì˜ë¯¸ ìˆëŠ” ê·¸ë£¹
4. âœ… **ìµœì í™”**: ëª¨ë¸ í•™ìŠµì— ìµœì í™”ëœ í˜•ì‹

**ì¤‘ë³µ ì œê±°ëŠ” ë¶€ì°¨ì  íš¨ê³¼:**
- í…œí”Œë¦¿ ì¶”ì¶œë¡œ íŒ¨í„´ì´ ì••ì¶•ë˜ì§€ë§Œ, ê° ë¡œê·¸ì˜ ì •ë³´ëŠ” ë³´ì¡´ë¨
- ë…¸ì´ì¦ˆ ì œê±°ëŠ” ìˆì§€ë§Œ, ì‹¤ì œ ë¡œê·¸ëŠ” ëª¨ë‘ ìœ ì§€ë¨
- í’ˆì§ˆ ê²€ì¦ìœ¼ë¡œ ë¶ˆëŸ‰ ë°ì´í„°ë§Œ ì œê±°ë¨

**í•µì‹¬:**
ì „ì²˜ë¦¬ëŠ” **"ê²¹ì¹˜ëŠ” ë‚´ìš© ì œê±°"**ê°€ ì•„ë‹ˆë¼ **"ëª¨ë¸ì´ í•™ìŠµí•  ìˆ˜ ìˆë„ë¡ ë³€í™˜"**í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤! ğŸš€
